<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>GEOLOCATE</title>
   <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script> 
      <script type="text/javascript" src="geolocator.js"></script>
    
      <script type="text/javascript">
          //The callback function executed when the location is fetched successfully.
          function onGeoSuccess(location) {
              console.log(location);
          }
          //The callback function executed when the location could not be fetched.
          function onGeoError(message) {
              console.log(message);
          }
          
          window.onload = function () {
              //geolocator.locateByIP(onGeoSuccess, onGeoError, 2, 'map_canvas');
              var html5Options = { enableHighAccuracy: true, timeout: 3000, maximumAge: 0 };
              //geolocator.locateByIP(onGeoSuccess, onGeoError, 0, "map_canvas")
              geolocator.locate(onGeoSuccess, onGeoError, true, html5Options, 'map_canvas');

              alert(geolocator.location.coords.accuracy);
          }

         
          var loc = document.getElementById("loc");
          loc.innerHTML = "hhhhhhhhhhhhhhhhhh";//geolocator.location.address.country;
</script>
  </head>
  <body>
      <p id="loc"></p>
     <div id="map_canvas" style="width:600px;height:400px"></div>
    
  </body>
</html>
